@*affiche la liste des tomates*@
@page "/mestomates"

@*le code c# est déporté dans cette classe*@
@inherits TomatesListPageBase  
@using Pomodorii.Models

<div class="my-5 text-center">
    <div class="row">
        <div class="col">
            <div class="info-header mb-5">
                <h2 class="pb-3">Mes tomates</h2>
                <p class="lead pb-5">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus dicta, magni doloribus
                    deserunt doloremque cumque.
                </p>
                <a href="tomateEdit" class="btn btn-primary">Ajouter une nouvelle tomate</a>
            </div>
        </div>
    </div>

    <div class="row">
        @if (Tomates == null)
        {
            // busy indicator qui apparait tant que les tomates ne sont pas chargées
            <div class="busy"></div>
        }
        else
        {
            @foreach (var t in Tomates)
            {
                <div class="col-lg-3 col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <img src="@t.ImageUrlDefaut" alt="tomates" class="img-fluid rounded-circle w-50 mb-3">
                            <a href="@($"tomate/{t.Id}")"><h3>@t.Nom</h3></a>
                            <h5 class="text-muted"></h5>
                            <p>@t.Description</p>
                        </div>
                    </div>
                </div>

            }
        }

    </div>
</div>

